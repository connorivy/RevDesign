from dotmap import DotMap
import pygmsh

def define():
    HOST = 'https://speckle.xyz'
    STREAM_ID = 'd059f9a269'
    OBJECT_ID = '18ae0461a7aba309b8eecde65f887fca'
    FLOOR_ID = '4ada34bb3b9754b337b75d6fd470a333'
    mesh_size = 5
    outline = DotMap({
        'segments' : [
            {
                'start' : {
                    'x': 14.688162108019782,
                    'y': 42.63540133841364,
                    'z': 0
                },
                'end' : {
                    'x': -5.311837891980204,
                    'y': 42.6354013384137,
                    'z': 0
                }
            }, 
            {
                'start' : {
                    'x': -5.311837891980204,
                    'y': 42.6354013384137,
                    'z': 0
                },
                'end' : {
                    'x': -5.311837891980204,
                    'y': 41.6354013384137,
                    'z': 0
                }
            },
            {
                'start' : {
                    'x': -5.311837891980204,
                    'y': 41.6354013384137,
                    'z': 0
                },
                'end' : {
                    'x': 14.688162108019782,
                    'y': 41.6354013384137,
                    'z': 0
                }
            },
            {
                'start' : {
                    'x': 14.688162108019782,
                    'y': 41.6354013384137,
                    'z': 0
                },
                'end' : {
                    'x': 14.688162108019782,
                    'y': 42.63540133841364,
                    'z': 0
                }
            },
        ]
    })
    # coords_before_adding_shearwalls = [
    #     (14.688162, 42.635401),
    #     (-5.311838, 42.635401),
    #     (-5.311838, 41.635401),
    #     (14.688162, 41.635401)
    # ]
    # coords_after_adding_shearwalls = [
    #     (14.688162, 42.635401),
    #     (-5.061838, 42.639964),
    #     (-5.311838, 42.635401),
    #     (-5.311838, 41.635401),
    #     (-5.061838, 41.635401),
    #     (14.688162, 41.635401)
    # ]
    # coord_dict_walls = {
    #     '40f7df8aa3ad19c457a5d71239c79209': (-5.311838, 42.635401, -5.311838, 41.635401), 
    #     '890059336dacebda25cdc85ef5630b42': (-5.311838, 41.635401, -5.061838, 41.635401), 
    #     'f7a242d3af70728d2381e9c4a09b7396': (-5.311838, 42.639964, -5.061838, 42.639964)
    # }
    coords_before_adding_shearwalls = [
        (14.7, 42.6),
        (-5.3, 42.6),
        (-5.3, 41.6),
        (14.7, 41.6)
    ]
    coords_after_adding_shearwalls = [
        (14.7, 42.6),
        (-5.1, 42.6),
        (-5.3, 42.6),
        (-5.3, 41.6),
        (-5.1, 41.6),
        (14.7, 41.6)
    ]
    coord_dict_walls = {
        '40f7df8aa3ad19c457a5d71239c79209': (-5.3, 42.6, -5.3, 41.6), 
        '890059336dacebda25cdc85ef5630b42': (-5.3, 41.6, -5.1, 41.6), 
        'f7a242d3af70728d2381e9c4a09b7396': (-5.3, 42.6, -5.1, 42.6)
    }
    with pygmsh.geo.Geometry() as geom:
        surface = geom.add_polygon(coords_after_adding_shearwalls, mesh_size=mesh_size)

    mesh = DotMap({
        'points': [[14.7, 42.6, 0.0], [-5.1, 42.6, 0.0], [-5.3, 42.6, 0.0], [-5.3, 41.6, 0.0], [-5.1, 41.6, 0.0], [14.7, 41.6, 0.0], [10.127904226464409, 42.6, 0.0], [5.599509537111047, 42.6, 0.0], [1.967590007061883, 42.6, 0.0], [-0.6902142492345327, 42.6, 0.0], [-2.634780305805119, 42.6, 0.0], [-4.057593196910744, 42.6, 0.0], [-4.057593196916638, 41.6, 0.0], [-2.634780305816083, 41.6, 0.0], [-0.6902142492553782, 41.6, 0.0], [1.967590007026069, 41.6, 0.0], [5.599509537064472, 41.6, 0.0], [10.127904226442306, 41.6, 0.0], [-4.578796598458323, 42.10000000000002, 0.0], [-1.6624972775300504, 42.09999999999695, 0.0], [-3.346186751362146, 42.1, 0.0], [-5.079227892877834, 42.10000000000002, 0.0]],
        'cells' : [(
            'Cellblock', ['triangle', [[11,  1, 18],[ 4, 12, 18],[ 4, 18, 21],[18,  1, 21],[10, 13, 19],[12, 11, 18],[11, 12, 20],[13, 10, 20],[ 3,  4, 21],[ 1,  2, 21],[14,  9, 19],[ 2,  3, 21],[ 9, 10, 19],[10, 11, 20],[12, 13, 20],[13, 14, 19],[0, 6, 5],[ 6, 17, 5],[17,  6,  7],[16 , 7,  8],[16, 17,  7],[15,  8,  9],[15, 16,  8],[14, 15,  9]]]
        )],
    })

    vert_shear_walls = [[-5.3, 42.6, -5.3, 41.6, '40f7df8aa3ad19c457a5d71239c79209']]
    horiz_shear_walls = [[-5.3, 41.6, -5.1, 41.6, '890059336dacebda25cdc85ef5630b42'], [-5.3, 42.6, -5.1, 42.6, 'f7a242d3af70728d2381e9c4a09b7396']]

    minus_x_wind_load_point_ids = [[3,4]]
    plus_x_wind_load_point_ids = [[6,1]]
    minus_y_wind_load_point_ids = [[4, 5], [5, 6]]
    plus_y_wind_load_point_ids = [[2, 3], [1, 2]]

    return locals()